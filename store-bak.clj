[:version 47]
[:updated 1319753182161]
[:configuration {:SITE {:interstate-delay "3000", :parameters {:url "http://google.com.mx"}, :instances {:lenta {:param-map {:timeout "3000"}}, :rapida {:param-map {:timeout "300"}}}, :states [{:key ":inicio", :conf-map {:opr "sleep-opr", :conf {:delta "3000"}}, :flow {:x 2, :y 113, :connect [":pagina"]}} {:key ":pagina", :conf-map {:retry-count "3", :timeout ":timeout", :opr "get-http-opr", :retry-delay "3000", :conf {:url ":url"}}, :flow {:x 182, :y 112, :connect [":bien" ".*<title>Google</title>.*" ":mal"]}} {:key ":bien", :conf-map {:opr "switch-good-opr", :conf {}}, :flow {:x 199, :y 196, :connect [":inicio"]}} {:key ":mal", :conf-map {:opr "switch-bad-opr", :conf {:minutes2wait "5"}}, :flow {:x 45, :y 198, :connect [":inicio"]}}], :stats-cache-len "10"}, :WEB {:interstate-delay "3000", :parameters {:port "22", :isd "3000"}, :instances {:primaria {:param-map {:host "localhost", :port "22"}}}, :states [{:key ":start", :conf-map {:opr "sleep-opr", :conf {:delta "4000"}}, :flow {:x 64, :y 71, :connect [":ssh?"]}} {:key ":ssh?", :conf-map {:retry-count "3", :timeout "1000", :opr "socket-opr", :retry-delay "3000", :conf {:host ":host", :port ":port"}}, :flow {:x 289, :y 42, :connect [":switch-bad" ".*Exception.*" ":switch-good"]}} {:key ":MAL", :conf-map {:opr "human-opr", :conf {}}, :flow {:x 325, :y 318, :connect []}} {:key ":switch-bad", :conf-map {:opr "switch-bad-opr", :conf {:minutes2wait "5"}}, :flow {:x 268, :y 223, :connect [":MAL" "send" ":context"]}} {:key ":switch-good", :conf-map {:opr "switch-good-opr", :conf {}}, :flow {:x 168, :y 98, :connect [":log-bien" "send" ":context"]}} {:key ":log-bien", :conf-map {:opr "log-opr", :conf {:text "Ya quedo jalando el servicio", :level ":debug"}}, :flow {:x 181, :y 184, :connect [":context"]}} {:key ":context", :conf-map {:opr "print-context-opr", :conf {:filter ".*"}}, :flow {:x 5, :y 224, :connect [":clojure"]}} {:key ":clojure", :conf-map {:opr "clojure-opr", :conf {:code "(fn [context] \n  (Thread/sleep 3000)\n  {:result (str \"La hora es:\" (System/currentTimeMillis)) \n   :otro (str \"20,000! tiene muchos digitos\" )\n   :host \"127.0.0.1\"})"}}, :flow {:x 8, :y 120, :connect [":start"]}} {:key ":comando", :conf-map {:opr "sleep-opr", :conf {:delta "3000"}}, :flow {:x 164, :y 304, :connect [":ojo-google"]}} {:key ":ojo-google", :conf-map {:retry-count "2", :timeout "600", :opr "get-http-opr", :retry-delay "3000", :conf {:url "http://google.com"}}, :flow {:x 18, :y 332, :connect [":context" ".*<title>Google.*" ":comando"]}}], :stats-cache-len "10"}}]
